<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>AsteroidMeta: mmj2StepProver</title><link type="text/css" rel="stylesheet" href="wiki.css" /><meta name="robots" content="INDEX,NOFOLLOW" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta" href="index.html@action=rss" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta: mmj2StepProver" href="http://planetx.cc.vt.edu/AsteroidMeta?action=rss;rcidonly=mmj2StepProver" /></head><body class="http://planetx.cc.vt.edu/AsteroidMeta"><div class="header"><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><h1><a title="Click to search for references to this page" href="http://planetx.cc.vt.edu/AsteroidMeta?search=mmj2StepProver">mmj2StepProver</a></h1></div><div class="content browse"><h1>Next mmj2 Release: Step Prover</h1><p>ETA? 1-Apr-2009?</p><h1>User-Design Doc</h1><p><a class="url outside" href="http://us2.metamath.org:8888/ocat/mmj2/StepProverDoc.zip">StepProverDoc.zip</a> &#x2013; documentation and untested source code for Step Prover (README.txt inside explains).</p><h1>User-Design Doc Comments</h1><p>1. The specification of the "givens" for the designated proof step is wrong. It says that an empty, ("" &#x2013; null string), value in the step's Hyp field means "use the theorem's logical hypotheses as the Givens". Doing this would mean that there  would be no way to specify zero Givens for the subproof. So, there are, again, just two options, a) specify a "?" designating all prior steps in the Proof Worksheet as Givens; and b) explicitly list the Givens, chosen from among the previous steps (e.g. "1,4,5").</p><p>2. It may not be clear, but the SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> parameter is redundant unless a MaxSearchStmt<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=MaxSearchStmt">?</a> is specified <b>and</b> the assertion labels in the SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> parameter are beyond the MaxSearchStmt<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=MaxSearchStmt">?</a> label. If the SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> assertions are inside the MaxSearchStmt<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=MaxSearchStmt">?</a> range then there is no need to list them &#x2013; they will be searched in the normal course of events. The purpose of SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> is to list assertions to be used while also restricting the normal search for justifying assertions. Examples are, say lemmas, or new and improved theorems. It would be possible to specify a SearchMaxStmt<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchMaxStmt">?</a> of "ax-1" &#x2013; the first assertion, and to specify a "?" (all) in the Hyp field, designating all prior proof steps as Givens. Then the Step Prover would be forced to use just the SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> theorem to reprove the designated step using the Givens and the SearchWith<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=SearchWith">?</a> assertion(s).</p><p>3. A strategy for using the Step Prover would be to prove a theorem bottom-up, which is the way Step Prover goes about the job, but to input a proof step above the step in progress and to specify it as a Given. This would mean that you know you can prove your formula if you can prove the previous step. The previous step can be input with a "?" in the Hyp field meaning "Incomplete Hypotheses", and need not itself be  proven yet.</p><p>4. I reworked the order of the proof search for hypotheses of a given subproof step.</p><p>The original version (source uploaded with the user specs) created the children in the proof subtree in Reverse Polish order according to the order of the hypotheses in Assrt.logHypArray.</p><p>To speed up proof search the order used is now given by Assrt.sortedLogHypArray, (which is already loaded by mmj2 when the Assrt is loaded into LogicalSystem<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=LogicalSystem">?</a>,) and the steps are derived in Polish Prefix order (to simplify the code).</p><p>The sort sequence is descending order by formula length (number of Metamath math symbols), and in the case of a tie, the LogHyp<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=LogHyp">?</a> formula which has at least one variable in common with the Assrt.formula is first.</p><p>The only drawback to this approach is that when the CandidateProof<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=CandidateProof">?</a> is output, the children of each subproof step must be "desorted" and output in RPN order. That adds a tricky bit of code :-)</p><p>The advantage is a very significant pruning of the search tree in the average case and a major disaster avoided (we hope) in the worst case scenario. Previous, mmj2 has used the sortedLogHypArray throughout the Proof Assistant unification search and StepUnifier<a class="edit" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=StepUnifier">?</a> search. I didn't seriously consider using the sortedLogHypArray until I started thinking&#x2026; Performance is expected to be dramatically not as bad as it would have been using unsorted hypotheses :-)</p></div><div class="footer"><hr /><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><span class="edit bar"><br /> <a class="edit" accesskey="e" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=mmj2StepProver">Edit this page</a> <a class="history" href="http://planetx.cc.vt.edu/AsteroidMeta?action=history;id=mmj2StepProver">View other revisions</a> <a class="admin" href="http://planetx.cc.vt.edu/AsteroidMeta?action=admin;id=mmj2StepProver">Administration</a></span><span class="time"><br /> Last edited 2008-11-13 07:19 UTC by <a class="author" title="from pool-96-249-204-163.snfcca.dsl-w.verizon.net" href="ocat">ocat</a> <a class="diff" href="http://planetx.cc.vt.edu/AsteroidMeta?action=browse;diff=1;id=mmj2StepProver">(diff)</a></span><form method="get" action="http://planetx.cc.vt.edu/AsteroidMeta" enctype="application/x-www-form-urlencoded">
<p>Search: <input type="text" name="search"  size="20" accesskey="f" /> <input type="submit" name="dosearch" value="Go!" /></p></form></div>
</body>
</html>
