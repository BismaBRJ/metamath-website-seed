<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>AsteroidMeta: mmj2UsageNote20061019</title><link type="text/css" rel="stylesheet" href="wiki.css" /><meta name="robots" content="INDEX,NOFOLLOW" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta" href="index.html@action=rss" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta: mmj2UsageNote20061019" href="http://planetx.cc.vt.edu/AsteroidMeta?action=rss;rcidonly=mmj2UsageNote20061019" /></head><body class="http://planetx.cc.vt.edu/AsteroidMeta"><div class="header"><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><h1><a title="Click to search for references to this page" href="http://planetx.cc.vt.edu/AsteroidMeta?search=mmj2UsageNote20061019">mmj2UsageNote20061019</a></h1></div><div class="content browse"><p>Torture testing of the mmj2 Proof Assistant GUI  revealed a situation that triggered an "Out of Memory" error and/or a "Out of Heap Space".\</p><p>Diagnosis: we have means, motive and opportunity &#x2013; and a body &#x2013; but no actual smoking gun and signed confession&#x2026;</p><p>HOWEVER&#x2026;</p><p>I strongly recommend upgrading to the Jave Runtime  Environment 1.5.0_09 due to a number of Sun bug fixes  pertaining to Garbage Collection. (Version 1.5.0_05 was the latest version back on 4/1/2006, so you can just imagine the exciting bee hive of activity at Java HQ :) I have not yet upgraded my own software so if you upgrade now and report back to the Asteroid you will be performing a service to mmj2 and your fellow users&#x2026;</p><p>ALSO&#x2026;</p><p>The following executive actions were taken:</p><p>1) The new TMFF coding was modified for efficiency and to avoid using a suspect portion of the Java  Runtime Environment.</p><p>2) New arguments on the "java" command line in mmj2.bat were added. The new command to trigger mmj2 and the Proof Assistant looks like this (inside mmj2.bat):</p><pre>     java -Xincgc -Xms64M -Xmx128M -jar mmj2.jar RunParms.txt
    </pre><ul><li>The "-Xincgc" argument says "enable incremental Garbage  Collection", which is off by default. Essentially what that means is to keep memory tidy as you go instead of the more typical periodic cleanliness :) Incremental  Garbage Collection is less efficient and adds a small amount of time to the start-up process. But the potential payoff is that for the GUI, we won't notice an extra 1/10 second here and there and we benefit from avoiding having Java get into a stressed out condition where bad things can happen&#x2026;</li><li>The "-Xms64M" argument means that 64 MB of memory is requested as an initial allocation. Apparently, loading set.mm with Comments and firing up the mmj2 Proof Assistant GUI requires 33MB &#x2013; with the 9/14/2006 version of set.mm, which is growing by 5 theorems a day :) It is best to ask for and receive a nice, juicy contiguous chunk of memory right at the start, if you have enough RAM in your computer.</li><li>The "-Xmx128M" argument means that the Maximum memory allowed is 128 MB, which ought to be enough for the next few years of set.mm development. This amount of memory may or may not be allocated, and even if allocated may be swapped out. The Java default maximum is 64MB, and when that limit is reached and there is no free memory, processing stops.</li></ul><p>NOTE: another interesting Java argument is "-verbose:gc". Add that <b>temporarily</b> to your mmj2.bat java command to see every action taken by the Java Garbage Collector. The activities are printed on the Command Prompt Window. (Remove the argument later as it slows things down&#x2026;)</p><p>3) The Help/About menu item (which is new) has been modified to run a full Garbage Collection "sweep" just before it  displays the memory utilization statistics. This is interesting and useful information &#x2013; if you need it you will want it :)</p></div><div class="footer"><hr /><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><span class="edit bar"><br /> <a class="edit" accesskey="e" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=mmj2UsageNote20061019">Edit this page</a> <a class="history" href="http://planetx.cc.vt.edu/AsteroidMeta?action=history;id=mmj2UsageNote20061019">View other revisions</a> <a class="admin" href="http://planetx.cc.vt.edu/AsteroidMeta?action=admin;id=mmj2UsageNote20061019">Administration</a></span><span class="time"><br /> Last edited 2006-10-19 17:21 UTC by <a class="author" title="from dialup-4.243.146.141.Dial1.SanFrancisco1.Level3.net" href="ocat">ocat</a> <a class="diff" href="http://planetx.cc.vt.edu/AsteroidMeta?action=browse;diff=1;id=mmj2UsageNote20061019">(diff)</a></span><form method="get" action="http://planetx.cc.vt.edu/AsteroidMeta" enctype="application/x-www-form-urlencoded">
<p>Search: <input type="text" name="search"  size="20" accesskey="f" /> <input type="submit" name="dosearch" value="Go!" /></p></form></div>
</body>
</html>
