<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>AsteroidMeta: metamath program discussion</title><link type="text/css" rel="stylesheet" href="wiki.css" /><meta name="robots" content="INDEX,NOFOLLOW" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta" href="index.html@action=rss" /><link rel="alternate" type="application/rss+xml" title="AsteroidMeta: metamath_program_discussion" href="http://planetx.cc.vt.edu/AsteroidMeta?action=rss;rcidonly=metamath_program_discussion" /></head><body class="http://planetx.cc.vt.edu/AsteroidMeta"><div class="header"><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><h1><a title="Click to search for references to this page" href="http://planetx.cc.vt.edu/AsteroidMeta?search=metamath+program+discussion">metamath program discussion</a></h1></div><div class="content browse"><p>NOTE: to update this wiki your Username must be "whitelisted" by Aaron. For the purposes of discussion about Metamath or mmj2 I authorize you to use Username "ocat" &#x2013; but in your update text please input some identifier (pseudonym, whatever) so that we know who is saying what. Thx. <a class="local" href="ocat">ocat</a> 23-Nov-2007</p><hr /><p>While the current rage in <a class="local" href="metamath">Metamath</a> software is <a class="local" href="mmj2">mmj2</a>, now and then proposals come up for tweaking the stodgy <a class="url outside" href="http://us.metamath.org/index.html#mmprog">original metamath program</a>. I added this page to discuss them.</p><h2>Tooltips on Metamath web pages</h2><p>Based on a suggestion by Reinder Verlinde, I added tooltips for mouseovers on proof step hyperlinks, for example steps 2 and 3 of <a class="url outside" href="http://us2.metamath.org:8888/mpegif/a1i.html">a1i</a>. This adds about 4% to the size of an average page.</p><p>It is also possible to add these tooltips to other hyperlinks, with a corresponding increase in page size. I invite discussion of where people might find tooltips the most useful. &#x2013; <a class="local" href="norm">norm</a> 20 Nov 2007</p><h2>Compressed webpages</h2><dl class="quote"><dt /><dd>Nearly all browsers can handle compressed files, so why not shrink the metamath html files: <a class="url outside" href="http://www.hunlock.com/blogs/Compressed_HTML_makes_your_pages_zippy">Compressed_HTML_makes_your_pages_zippy</a>? That would be especially useful with the .gif's. And you could add tooltip flyovers to all assertion labels on each page. Or not :-) --<a class="local" href="ocat">ocat</a><dl class="quote"><dt /><dd>P.S. Thinking about this option, it come to mind that you could just run a utility to create a .gz version of each file output by Metamath.exe &#x2013; that would probably speed up download times for the web pages by 75% and reduce transmission costs. So this makes sense as a standalone enhancement, regardless of the tooltip flyovers. --<a class="local" href="ocat">ocat</a><dl class="quote"><dt /><dd>This is a good suggestion. As an experiment, I gzipped all the mpegif/mpeuni .html pages except mmrecent.html on the us2 server. Maybe this is adequate - I didn't relish futzing around with htaccess etc. It seems to work, and maybe apache does this automatically already, not sure. Maybe some apache expert could enlighten me. It does seem that if you request a .html it automatically opens .html.gz if the .html isn't there. I'm not sure what the impact on the volunteer mirrors might be - I've tried to have static-only pages and keep server-side software issues away from them, in case they use Windows IIS or whatever. &#x2013; <a class="local" href="norm">norm</a> 21 Nov 2007<dl class="quote"><dt /><dd>Mozilla automatically un-zips web pages with suffix ".gz". It <i>appears</i> to be picking the ".gz" suffix file automatically -- but I cannot be absolutely sure. Perhaps post a Note or News item on US2 about the topic. --<a class="local" href="ocat">ocat</a> 21 Nov 2007</dd></dl></dd></dl></dd></dl></dd></dl><p>It looks like IE6 also works with only the .html.gz on the server (no uncompressed .html). It surprises me that it would handle the gzip format, since that is an "open source" thing (e.g. PNG alpha transparency doesn't work in IE6 after years of user complaints). So: is Apache actually sending the compressed page to IE6, or is Apache decoding it on the fly to send to IE6 if IE6 tells it can't handle it?</p><p>Another experiment: if only the .html.gz is present on the server, wget retrieves the gzipped version for both .html and .html.gz specified in the URL. If both the .html and the .html.gz versions are on the server, wget retrieves the uncompressed .html version with a .html URL, and the compressed .html.gz version with a .html.gz URL.</p><p>Lynx also works even if only the .html.gz is on the server. &#x2013; <a class="local" href="norm">norm</a> 21 Nov 2007</p><dl class="quote"><dt /><dd>IMHO, it seems to me that what you should do, assuming that the mirror sites are black boxes and that you are not in communication with the mirror site operators, is to optimize <i>your</i> webserver while sending the mirror sites exactly what they get today. That means, I think, creating ".gz" versions of all of your webpages &#x2013; regular and us2 -- and updating your .htaccess file as described in the above  article. It is preferable to do this than to rely on what appears to be undocumented functionality in the server and browsers. Regarding the mirror sites, when  you update your website to create the download deltas, you would first delete all of the ".gz"s, update your webpages, create the deltas, and then recreate the ".gz"s. The .htaccess you use on your server need not match the mirror sites' settings &#x2013; they run their system  however they please. However, if they did wish to optimize their services similarly it would be trivial for them to create their own ".gz" files. --<a class="local" href="ocat">ocat</a> 21 NOV 2007</dd></dl></div><div class="footer"><hr /><span class="gotobar bar"><a class="local" href="HomePage">HomePage</a> <a class="local" href="RecentChanges">RecentChanges</a> </span><span class="edit bar"><br /> <a class="edit" accesskey="e" title="Click to edit this page" href="http://planetx.cc.vt.edu/AsteroidMeta?action=edit;id=metamath_program_discussion">Edit this page</a> <a class="history" href="http://planetx.cc.vt.edu/AsteroidMeta?action=history;id=metamath_program_discussion">View other revisions</a> <a class="admin" href="http://planetx.cc.vt.edu/AsteroidMeta?action=admin;id=metamath_program_discussion">Administration</a></span><span class="time"><br /> Last edited 2007-11-23 17:33 UTC by <a class="author" title="from 66-81-74-89.bayarea.dialup.o1.com" href="ocat">ocat</a> <a class="diff" href="http://planetx.cc.vt.edu/AsteroidMeta?action=browse;diff=1;id=metamath_program_discussion">(diff)</a></span><form method="get" action="http://planetx.cc.vt.edu/AsteroidMeta" enctype="application/x-www-form-urlencoded">
<p>Search: <input type="text" name="search"  size="20" accesskey="f" /> <input type="submit" name="dosearch" value="Go!" /></p></form></div>
</body>
</html>
